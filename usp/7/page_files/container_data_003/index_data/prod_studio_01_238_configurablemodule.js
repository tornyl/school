self.studioLoader.context.evalInContext("window.STUDIO_SDK_START=+new Date();var Mj=\"FLASH_LAYOUTS FLASH_CONFIGURABLE_XML FLASH_CONFIGURABLE_JSON HTML5_LAYOUTS HTML5_CONFIGURABLE HTML5_CONFIGURABLE_DAB\".split(\" \");var Nj=function(){};Nj.prototype.a=function(a){a=!mb(Gc(Sg(a)));var b=!mb(Gc(\"HTML5_CONFIGURABLE\"))&&0<=Ua(Mj,\"HTML5_CONFIGURABLE\")?\"HTML5_CONFIGURABLE\":null;return a&&(null===b||\"HTML5_CONFIGURABLE\"==b||\"HTML5_CONFIGURABLE_DAB\"==b||\"HTML5_LAYOUTS\"==b||\"FLASH_CONFIGURABLE_JSON\"==b)};Nj.prototype.b=function(a){a=Sg(a);if(mb(Gc(a)))return null;a=JSON.parse(a);var b;a.Profile&&a.Profile[0]?b=Wa(a.Profile,this.f,this)[0]:b={};D(Bb(a,function(c,d){return\"_profileid\"!=d&&\"Profile\"!=d}),function(c,d){b[d+\"Array\"]=Wa(c,this.f,this)},this);return Oj(Sg(b))};Nj.prototype.f=function(a){return Cb(Bb(a,function(b,c){return\"_index\"!=c}),function(b){if(x(b)){b:{for(c in b)if(!v.call(void 0,b[c])){var c=!1;break b}c=!0}if(c&&1==Eb(b)){b:{for(d in b)break b;var d=void 0}b=Wa(b[d],Rb(Ia(Ob,d)))}}return b},this)};var Pj=function(a,b){this.b=eb(a);this.f=!b;this.a=[]},Qj=function(a,b){a.a=[];for(var c=0;c<a.b.length;++c){var d=a.b[c];a.a[c]=!1;if(d.a(b)&&(d=d.b(b),null!==d&&(b=d,a.a[c]=!0,!a.f)))break}return b};var Rj=function(a){I.call(this);this.l=a};z(Rj,I);Rj.prototype.b=function(){ya()};Rj.prototype.g=function(){ya()};Rj.prototype.h=function(a){q(a)&&(a=JSON.parse(a));x(a)&&\"functionName\"in a&&this.l(a.functionName,a.args)};var Sj=function(a){Ge.call(this,a)};z(Sj,Ge);u(\"studio.sdk.configurable.ConfigurableEvent\",Sj,void 0);Sj.REGISTER=\"register\";var Tj=function(){},Uj=function(a,b,c,d){if(0!=b.length)if(1==b.length){var e=b[0];Kb(c,e,d)}else{e=b[0];var f=parseInt(b[1],10);isNaN(f)?(Kb(c,e,{}),Uj(a,b.slice(1),c[e],d)):(Kb(c,e,[]),2<b.length?(void 0===c[e][f]&&(c[e][f]={}),Uj(a,b.slice(2),c[e][f],d)):void 0===c[e][f]&&(c[e][f]=d))}};var Vj=function(a){this.f=a};za(Vj);Vj.prototype.a=function(a){return a&&x(a)?!!Gb(a,\"DbmDynamicFeed\",0):!1};Vj.prototype.b=function(a){return Wj(this,a.DbmDynamicFeed[0])};var Wj=function(a,b){var c={};D(b,y(function(d,e){var f=e.split(\"_\").filter(function(k){return!mb(Gc(k))});if(2>f.length)Kb(c,e,d);else try{Uj(this.f,f,c,d)}catch(k){Kb(c,e,d)}},a));return c};var Xj={17:\"mp4v.20.9\",18:\"avc1.42E033\",22:\"avc1.640033\",37:\"avc1.640033\",36:\"mp4v.20.240\",43:\"vp8\",44:\"vp8\",45:\"vp8\",46:\"vp8\",59:\"avc1.4D4033\",133:\"avc1.4D4015\",134:\"avc1.4D401E\",135:\"avc1.4D401F\",136:\"avc1.4D401F\",137:\"avc1.640033\",160:\"avc1.4D400C\",212:\"avc1.4D401F\",309:\"avc1.640033\",342:\"avc1.42E01E\",343:\"avc1.42E01F\",344:\"avc1.42E033\",345:\"avc1.42E033\",346:\"avc1.42E033\",347:\"avc1.4D401F\"};var ak=function(){var a=Yj,b=Zj;this.l=window.Enabler;this.g=a;this.j=b;this.h=new ed(h.innerWidth,h.innerHeight)},bk=[\"video/webm\",\"video/mp4\"],ck=function(a,b){var c=[],d;for(d in b)x(b[d])&&(\"transcodedVideo\"==b[d][\"@type\"]&&b[d].transcodes&&c.push(b[d]),fb(c,ck(a,b[d])));return c};ak.prototype.f=function(a){return!!(a.url&&a.mimeType&&0<a.width&&0<a.height)};var dk=function(a,b){kb(a,function(d,e){return d.height-e.height});var c=$a(a,function(d){return 0>=b-d.height});return-1==c?a[a.length-1]:b==a[c].height?a[c]:0<c?a[c-1]:a[0]};ak.prototype.s=function(a){var b=Va(a.transcodes,function(k){var l=k.mimeType;k=k.formatID;k=k+\"\"in Xj?Xj[k+\"\"]:\"\";mb(Gc(k))||(l+='; codecs=\"'+k+'\"');return this.l.pc(l)},this);b=Va(b,this.f,this);if(0==b.length)return a.url=a.transcodes[0].url,a;for(var c=b,d=this.g?db(this.g,bk):bk,e=0;e<d.length;++e){var f=Va(b,function(k){return d[e]==k.mimeType});if(f.length){c=f;break}}b=dk(c,this.j||this.h.height);a.url=b.url;return a};ak.prototype.a=function(a){a=ck(this,a);return!!a.length&&Xa(a,function(b){b=b.transcodes;return!!(b&&b.length&&Xa(b,this.f,this))},this)};ak.prototype.b=function(a){B(ck(this,a),this.s,this);return a};var ek=function(a){this.f=a};ek.prototype.b=function(a){var b=this.g(a);return fk(this,a,b)};var fk=function(a,b,c){var d=Bb(b,function(e,f){return!x(e)&&!Hb(c,f)});D(c,y(function(e,f){if(\"Google_Merchant_Center\"!=f){var k=f.split(\"_\");if(3>k.length)Kb(d,f,e);else try{var l=k[k.length-1],m;if(m=l){var n=l.length-3;m=0<=n&&l.indexOf(\"Url\",n)==n}Uj(this.f,k,d,m&&x(e)&&\"Url\"in e?e.Url:e)}catch(t){Kb(d,f,e)}}},a));\"Google_Merchant_Center\"in b&&(d.Product=gk(b.Google_Merchant_Center));\"Retail\"in b&&(d.Product=hk(b.Retail));return d},gk=function(a){return Wa(a,function(b){var c=Gb(b,\"offer_image_derived\",\"image200\",\"url\"),d=Gb(b,\"offer_landing_page_derived\",\"Url\"),e=Gb(b,\"offer_regular_price\",\"formattedPrice\"),f=Gb(b,\"offer_title\");b=Gb(b,\"offer_description\");return{imageUrl:c,url:d,price:e,name:f,description:b}})},hk=function(a){return Wa(a,function(b){var c=Gb(b,\"imageUrl\",\"Url\"),d=Gb(b,\"url\",\"Url\"),e=Gb(b,\"price\"),f=Gb(b,\"name\");b=Gb(b,\"description\");return{imageUrl:c,url:d,price:e,name:f,description:b}})};var ik=function(a){this.f=a};z(ik,ek);ik.prototype.a=function(a){a&&x(a)?(a=null!=a?a.layout:null,a=!(null==a||!q(a)||!a)):a=!1;return a};ik.prototype.g=function(a){a.Headline_0_productClickOnly=!0;return a};var jk=function(a){this.f=a};z(jk,ek);jk.prototype.a=function(a){if(!a||!x(a))return!1;a=Gb(a,\"google_template_data\",\"adData\");return!!a&&1==a.length};jk.prototype.g=function(a){return a.google_template_data.adData[0]};var kk=function(){this.a=null;this.b=!1};za(kk);kk.prototype.oa=function(a){if(null!=this.a)a(this.a);else{var b=null,c=[],d=void 0,e=new Tj;window.Enabler&&null!=window.Enabler.getParameter(\"AdData\")?(b=window.Enabler.getParameter(\"AdData\"),c.push(new jk(e))):window.Enabler&&null!=window.Enabler.eb()?(b=window.Enabler.eb(),d=c.length,c.push(new ik(e)),c.push(new Vj(e)),c.push(new Nj)):window.Enabler&&null!=window.Enabler.oa()?b=window.Enabler.oa():window.GdnLayout&&null!=window.GdnLayout.getConfig()&&(b=JSON.parse(GdnLayout.getConfig()));null!=b&&(c=new Pj(c,!0),this.a=Qj(c,b),r(d)&&(this.b=!!c.a[d]));a(this.a)}};kk.prototype.reset=function(){this.a=null};var Oj=function(a){return JSON.parse(a)||{}};var lk=function(a){Rj.call(this,a);this.b()};z(lk,Rj);lk.prototype.b=function(){window.Enabler.rb(\"livePreviewChannel\",y(this.h,this))};lk.prototype.g=function(a,b){ii(window.Enabler,\"livePreviewMessage\",[{functionName:a,args:b}])};var mk=function(a,b){zg.call(this,b);this.a=a;this.A=new L(this);Ee(this,this.A);this.j=new rf(100,Ag(this));Ee(this,this.j);this.g=new G;this.h=new G;this.b=new G;this.o=yg();this.l=null;this.f={};this.C=this.a.name;this.a.Ba(this.a.name+\"_\"+this.a.ba());this.B=!1;re(this.b,this.g);re(this.b,this.h);qe(this.b,this.Gd,this);this.b.G(!0);M(this.A,this.j,\"tick\",this.mc,void 0)};z(mk,zg);var nk={},qk=function(a){var b=new ok(a.channelName,a.service,a.payload);a=b.a;var c=b.f;b=b.b;var d=wg[a];if(d)return d.ha(c,b),!0;d=pk(b)[0];for(var e in wg){var f=wg[e];if(1==f.ba()&&!f.isConnected()&&\"tp\"==c&&\"SETUP\"==d)return f.Ba(a),f.ha(c,b),!0}return!1};g=mk.prototype;g.Ua=function(a){a=pk(a);var b=a[1];switch(a[0]){case \"SETUP_ACK\":this.g.a||this.g.G(!0);break;case \"SETUP\":this.M(\"tp\",\"SETUP_ACK\"),this.h.a||this.h.G(!0),null!=this.l&&this.l!=b&&this.M(\"tp\",\"SETUP,\"+this.o),this.l=b}};g.connect=function(){var a=Ag(this);if(a){var b=Fa(a);0==(nk[b]||0)&&null==va(\"crosswindowmessaging.channel\",a)&&u(\"crosswindowmessaging.channel\",qk,a);nk[b]++;this.B=!0;this.mc()}};g.mc=function(){this.a.isConnected()?this.j.stop():(this.j.start(),this.M(\"tp\",\"SETUP,\"+this.o))};g.M=function(a,b){this.a.ca&&(a=new ok(this.C+\"_\"+(0==this.a.ba()?1:0),a,b),this.a.a.directSyncMode?this.lc(a):this.f[Fa(a)]=sf(y(this.lc,this,a),0))};g.lc=function(a){var b=Fa(a);this.f[b]&&delete this.f[b];try{var c=va(\"crosswindowmessaging.channel\",this.a.ca)}catch(d){return}if(null!==c)try{c({channelName:a.a,service:a.f,payload:a.b})}catch(d){}};g.Gd=function(){rk(this.a,0)};g.v=function(){if(this.B){var a=Ag(this),b=Fa(a);1==--nk[b]&&u(\"crosswindowmessaging.channel\",null,a)}this.f&&(D(this.f,function(c){h.clearTimeout(c)}),this.f=null);this.g&&(this.g.cancel(),delete this.g);this.h&&(this.h.cancel(),delete this.h);this.b&&(this.b.cancel(),delete this.b);mk.w.v.call(this)};var pk=function(a){a=a.split(\",\");a[1]=a[1]||null;return a},ok=function(a,b,c){this.a=a;this.f=b;this.b=c};var sk=function(a,b,c,d,e){zg.call(this,c);this.h=a;this.j=e||2;this.H=b||\"*\";this.B=new L(this);this.l=new rf(100,Ag(this));this.C=!!d;this.f=new G;this.g=new G;this.b=new G;this.F=yg();this.A=null;this.C?1==this.h.ba()?re(this.b,this.f):re(this.b,this.g):(re(this.b,this.f),2==this.j&&re(this.b,this.g));qe(this.b,this.Hd,this);this.b.G(!0);M(this.B,this.l,\"tick\",this.nc,void 0)};z(sk,zg);sk.prototype.a=null;sk.prototype.I=!1;var tk={};sk.prototype.o=0;var vk=function(a){var b=a.W.data;if(!q(b))return!1;var c=b.indexOf(\"|\"),d=b.indexOf(\":\");if(-1==c||-1==d)return!1;var e=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);if(d=wg[e])return d.ha(c,b,a.W.origin),!0;d=uk(b)[0];for(var f in wg){var k=wg[f];if(1==k.ba()&&!k.isConnected()&&\"tp\"==c&&(\"SETUP\"==d||\"SETUP_NTPV2\"==d)&&k.Ra(a.W.origin))return k.Ba(e),k.ha(c,b),!0}return!1};sk.prototype.Ua=function(a){var b=uk(a);a=b[1];switch(b[0]){case \"SETUP_ACK\":wk(this,1);this.f.a||this.f.G(!0);break;case \"SETUP_ACK_NTPV2\":2==this.j&&(wk(this,2),this.f.a||this.f.G(!0));break;case \"SETUP\":wk(this,1);xk(this,1);break;case \"SETUP_NTPV2\":2==this.j&&(b=this.a,wk(this,2),xk(this,2),1!=b&&null==this.A||this.A==a||yk(this),this.A=a)}};var yk=function(a){2!=a.j||null!=a.a&&2!=a.a||a.M(\"tp\",\"SETUP_NTPV2,\"+a.F);null!=a.a&&1!=a.a||a.M(\"tp\",\"SETUP\")},xk=function(a,b){if(2!=a.j||null!=a.a&&2!=a.a||2!=b){if(null!=a.a&&1!=a.a||1!=b)return;a.M(\"tp\",\"SETUP_ACK\")}else a.M(\"tp\",\"SETUP_ACK_NTPV2\");a.g.a||a.g.G(!0)},wk=function(a,b){b>a.a&&(a.a=b);1==a.a&&(a.g.a||a.C||a.g.G(!0),a.A=null)};g=sk.prototype;g.connect=function(){var a=Ag(this),b=Fa(a),c=tk[b];r(c)||(c=0);0==c&&bf(a.postMessage?a:a.document,\"message\",vk,!1,sk);tk[b]=c+1;this.I=!0;this.nc()};g.nc=function(){var a=0==this.h.ba();this.C&&a||this.h.isConnected()||this.s?this.l.stop():(this.l.start(),yk(this))};g.M=function(a,b){var c=this.h.ca;c&&(this.M=function(d,e){var f=this,k=this.h.name;this.o=sf(function(){f.o=0;try{var l=c.postMessage?c:c.document;l.postMessage&&l.postMessage(k+\"|\"+d+\":\"+e,f.H)}catch(m){}},0)},this.M(a,b))};g.Hd=function(){rk(this.h,1==this.j||1==this.a?200:void 0)};g.v=function(){if(this.I){var a=Ag(this),b=Fa(a),c=tk[b];tk[b]=c-1;1==c&&jf(a.postMessage?a:a.document,\"message\",vk,!1,sk)}this.o&&(h.clearTimeout(this.o),this.o=0);J(this.B);delete this.B;J(this.l);delete this.l;this.f.cancel();delete this.f;this.g.cancel();delete this.g;this.b.cancel();delete this.b;delete this.M;sk.w.v.call(this)};var uk=function(a){a=a.split(\",\");a[1]=a[1]||null;return a};var Ak=function(a,b){Wg.call(this);for(var c=0,d;d=vg[c];c++)if(d in a&&!/^https?:\\/\\//.test(a[d]))throw Error(\"URI \"+a[d]+\" is invalid for field \"+d);this.a=a;this.name=this.a.cn||yg();this.f=b||hd();this.g=[];this.j=new L(this);a.lpu=a.lpu||hg(ld(this.f.a).location.href)+\"/robots.txt\";a.ppu=a.ppu||hg(a.pu||\"\")+\"/robots.txt\";wg[this.name]=this;lf(window,\"unload\",zk)||af(window,\"unload\",zk)};z(Ak,Wg);var Bk=/^%*tp$/,Ck=/^%+tp$/;g=Ak.prototype;g.ta=null;g.za=null;g.da=null;g.Ga=1;g.isConnected=function(){return 2==this.Ga};g.ca=null;g.fb=null;g.connect=function(a){this.b=a||xa;3==this.Ga&&(this.Ga=1);this.za?qe(this.za,this.kc):this.kc()};g.kc=function(){this.za=null;this.a.ifrid&&(this.fb=this.f.getElement(this.a.ifrid));if(this.fb){var a=this.fb.contentWindow;a||(a=window.frames[this.a.ifrid]);this.ca=a}if(!this.ca){if(window==window.top)throw Error(\"CrossPageChannel: Can't connect, peer window-object not set.\");this.ca=window.parent}if(!this.da){this.a.tp||(this.a.tp=w(document.postMessage)||w(window.postMessage)||Rc&&window.postMessage?1:Uc?2:Rc&&this.a.pru?3:0);if(w(this.a.tp))this.da=new this.a.tp(this,this.f);else switch(this.a.tp){case 1:this.da=new sk(this,this.a.ph,this.f,!!this.a.osh,this.a.nativeProtocolVersion||2);break;case 6:this.da=null;break;case 2:this.da=null;break;case 3:this.da=null;break;case 7:if(a=this.ca)try{a=window.document.domain==this.ca.document.domain}catch(b){a=!1}a&&(this.da=new mk(this,this.f))}if(!this.da)throw Error(\"CrossPageChannel: No suitable transport found! You may try injecting a Transport constructor directly via the channel config object.\");}for(this.da.connect();0<this.g.length;)this.g.shift()()};g.close=function(){this.za&&(this.za.cancel(),this.za=null);this.g.length=0;ug(this.j);this.Ga=3;J(this.da);this.b=this.da=null;J(this.ta);this.ta=null};var rk=function(a,b){a.isConnected()||a.ta&&0!=a.ta.ya||(a.Ga=2,J(a.ta),p(b)?(a.ta=new Pg(a.b,b),a.ta.start()):(a.ta=null,a.b()))};Ak.prototype.Qa=function(a,b){if(this.isConnected()){try{var c=!!this.ca&&!this.ca.closed}catch(d){c=!1}c?(x(b)&&(b=Sg(b)),this.da.M(Dk(a),b)):this.close()}};Ak.prototype.ha=function(a,b,c){this.za?this.g.push(y(this.ha,this,a,b,c)):this.Ra(c)&&!this.s&&3!=this.Ga&&(a&&\"tp\"!=a?this.isConnected()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Ck.test(a)?a.substring(1):a,Xg(this,a,b)):this.da.Ua(b))};var Dk=function(a){Bk.test(a)&&(a=\"%\"+a);return a.replace(/[%:|]/g,encodeURIComponent)};Ak.prototype.ba=function(){var a=this.a.role;return r(a)?a:window.parent==this.ca?1:0};Ak.prototype.Ba=function(a){delete wg[this.name];this.name=a;wg[a]=this};Ak.prototype.Ra=function(a){var b=this.a.ph;return mb(Gc(a))||mb(Gc(b))||a==this.a.ph};Ak.prototype.v=function(){this.close();this.fb=this.ca=null;delete wg[this.name];J(this.j);delete this.j;Ak.w.v.call(this)};var zk=function(){for(var a in wg)J(wg[a])};var Ek=function(a,b){Rj.call(this,a);this.j=b;this.f=this.a=null;this.b()};z(Ek,Rj);Ek.prototype.b=function(){if(\"FILLER\"==this.j){var a=Fk(),b=a.postMessage?a:a.document;b.postMessage?b.postMessage(\"PreviewHandler.INIT\",\"*\"):window.console.log(\"No postMessage on preview frame\",a);this.a=new Ak({tp:1,role:1,cn:\"livePreviewChannel\",osh:!0});a=Fk();this.a.ca=a;this.f=new Kh(this.a);Ee(this,this.a);Ee(this,this.f);a=this.f;b=y(this.h,this);a.g.Pa(\"livePreviewService\",y(a.o,a,b),!0);this.a.connect(y(this.o,this))}};var Fk=function(){var a=h.Enabler.P(\"PREVIEW_FRAME_DEPTH\");a=null!=a?a:1;for(var b=window,c=b,d=0;d<a;d++)c=c.parent;for(;c!==window.top;)b=b.parent,c=c.parent;return b};Ek.prototype.o=function(){Gk(this,\"PreviewHandler.INIT\")};var Gk=function(a,b){\"FILLER\"==a.j&&Lh(a.f,\"livePreviewService\",b,xa)};Ek.prototype.g=function(a,b){Gk(this,[{functionName:a,args:b}])};var Hk=function(){this.f=this.a=this.b=null};za(Hk);Hk.prototype.oa=function(a){if(null===this.f||null===this.b||null===this.a){var b=new Pj([new jk(new Tj)]);h.onAdData=y(function(c,d){if(null===this.f||null===this.b||null===this.a){var e=Qj(b,c);this.b=c;this.a=d;this.f=e;a(e,c,d)}},this)}else a(this.f,this.b,this.a)};Hk.prototype.reset=function(){this.f=this.a=this.b=null};var W=function(a){throw new Ik(a);},Ik=function(a){Ra.call(this,a)};z(Ik,Ra);Ik.prototype.name=\"ConfigurableException\";var Jk=new H,Kk=new H,Lk=0,Mk=0,Nk=!1,Ok=/(?:(.*)\\.)?([^\\.\\[]+)(?:\\[(\\d+)\\])?/;u(\"studio.sdk.configurable.config.declare\",function(a,b){Jk.R(a)?W(\"Config type \"+(a+\" already exists\")):Jk.set(a,new Pk(a,b))},void 0);var Qk=function(a,b){return Jk.R(a)?Jk.get(a).create(b):(W(vj(a)),null)};u(\"studio.sdk.configurable.config.instantiate\",Qk,void 0);var Sk=function(a){if(!Nk)return a;null!=a[\"@type\"]||(a[\"@type\"]=\"Root\");Rk(a);return Qk(a[\"@type\"],a)},Rk=function(a,b){D(a,function(c){x(c)&&Rk(c)});if(x(a)&&!v(a)){(b=a[\"@type\"]||b)||(b=\"\"+Mk++);a[\"@type\"]=b;try{Tk(b);return}catch(c){}Jk.set(b,new Pk(b,a))}},Tk=function(a){var b=Uk(a);return b||(b=Jk.get(a),b)?b:(W(vj(a)),null)},Wk=function(a){return Vk(a,!0)?Kk.get(a[\"@id\"]):null},Yk=function(a){return x(a)?(a=Wk(a))?a.a:null:Xk(a)},Zk=function(a){a=Wk(a);return a?a.a.a:(W(\"Attempt to get config type for a non-object\"),null)};u(\"studio.sdk.configurable.config.getType\",Zk,void 0);u(\"studio.sdk.configurable.config.getPath\",function(a){a=Wk(a);return a?al(a):(W(\"Attempt to get config type for a non-object\"),null)},void 0);var cl=function(a,b){var c;if(!Vk(a))return null;if(c=Ok.exec(b)){b=parseInt(c[3],10);isNaN(b)&&(b=null);var d=c[1]||\"\";c=c[2]||\"\"}else d=\"\",c=b,b=null;a=bl(a,d);return Vk(a)?{va:a,propertyName:c,index:b}:null},dl=function(a,b,c,d){if(null==b)return null;try{var e=Tk(a)}catch(f){if(!Nk)throw f;}if(!e&&Nk){Rk(b,a);e=Tk(a);if(!e)return W(vj(a)),null;c=cl(c,d);d=Wk(c.va);a=e;c=d.a.b.get(c.propertyName);c.gb(a)||c.K.add(a)}return e.create(b)},el=function(a){this.a=a},Pk=function(a,b){this.a=a;this.b=new H;this.f=new fl;gl(this,b)};z(Pk,el);var gl=function(a,b){b&&D(b,function(c,d){var e=hl(this.f,d,c);x(c)&&(e=e||il(this.f,c));e||lb(d,\"@\")||this.b.set(d,new jl(this,d,c))},a)};Pk.prototype.create=function(a){var b=kl(this);B(this.b.O(),function(c){var d=this.b.get(c),e=void 0;a&&(e=a[c]);d=ll(d,e);b[c]=d;ml(b,c,d)},this);return b};var ml=function(a,b,c){a=a?Wk(a):null;if(Ba(c))for(var d=0;d<c.length;d++){var e=d,f=Wk(c[d]);f&&nl(f,a,b,e)}else(c=Wk(c))&&nl(c,a,b,void 0)},ol=function(a,b){this.a=a;this.g=b};z(ol,el);ol.prototype.create=function(a){return p(a)?a:this.g};var pl=new ol(\"string\",\"\"),ql=new ol(\"number\",0),rl=new ol(\"boolean\",!0),sl=new ol(\"url\",null),tl=new ol(\"color\",\"#000000\"),ul=new ol(\"image\",null),vl=new ol(\"video\",null),wl=new ol(\"asset\",null),Uk=function(a){switch(a.toLowerCase()){case \"string\":case \"str\":return pl;case \"integer\":case \"int\":case \"float\":case \"number\":case \"double\":return ql;case \"boolean\":case \"bool\":return rl;case \"url\":return sl;case \"color\":return tl;case \"image\":return ul;case \"video\":return vl;case \"file\":case \"asset\":return wl}},Xk=function(a){switch(Aa(a)){case \"number\":return ql;case \"boolean\":return rl;case \"string\":return pl;default:return W(wj(a)),pl}},jl=function(a,b,c){this.s=a;this.f=b;this.K=new Yf;this.g=this.b=!1;this.a=void 0;this.j=new fl;switch(Aa(c)){case \"string\":case \"number\":case \"boolean\":this.b=!1;this.g=!0;this.a=c;this.K.add(Xk(this.a));break;case \"array\":xl(this,c);break;case \"object\":yl(this,c);break;case \"null\":if(Nk)break;default:W(xj(a.a,b))}},xl=function(a,b){0!=b.length||Nk?(a.b=!0,a.g=!0,a.a=b,B(b,function(c){var d;Nk&&x(c)?d=Jk.get(c[\"@type\"]):d=Xk(c);d&&this.K.add(d)},a)):W(\"Array property \"+(a.f+(\" on type \"+(a.s.a+\" must have at least one element.\"))))},yl=function(a,b){a.b=!!b[\"@array\"];a.g=!!b[\"@required\"];var c=b[\"@type\"];if(p(c))switch(Aa(c)){case \"string\":a.K.add(Tk(c));break;case \"array\":B(c,function(d){(d=Tk(d))&&this.K.add(d)},a);break;default:W(xj(a.s.a,a.f));return}else a.K.add(pl);a.a=void 0;b.hasOwnProperty(\"@value\")?(c=b[\"@value\"],p(c)?a.a=ll(a,c):a.a=void 0):0==a.K.a.f||a.b||(a.a=a.K.L()[0].create(void 0));zl(a.j,b)};jl.prototype.gb=function(a){return!!a&&this.K.contains(a)};jl.prototype.h=function(a){if(!x(a))return a;var b=null;Vk(a,!0)?b=Yk(a):a.hasOwnProperty(\"@type\")?(b=Jk.get(a[\"@type\"]),null==b&&Nk&&(Rk(a),b=Jk.get(a[\"@type\"]))):1==this.K.X()&&(b=this.K.L()[0]);Nk&&!this.gb(b)&&this.K.add(b);return this.gb(b)?b.create(a):(W(yj(this.s.a,this.f)),null)};var ll=function(a,b){b=p(b)?b:a.a;var c=void 0;a.b?p(b)?(v(b)||(b=[b]),c=Wa(b,y(a.h,a))):c=[]:p(b)&&(c=a.h(b));return!p(c)&&a.g?(W(\"No value specified for non-optional property \"+(a.f+(\" on type \"+(a.s.a+\".\")))),null):c},kl=function(a){var b={};b[\"@id\"]=Lk++;a=new Al(a,b);Kk.set(a.s,a);return b},Vk=function(a,b){var c=x(a)&&\"@id\"in a;c&&(c=a[\"@id\"],c=Kk.R(c)&&Kk.get(c).J()==a);c||b||W(\"Attempt to get config type for a non-object\");return c},bl=function(a,b){a=Wk(a);return a?Bl(a,b):(W(\"Attempt to get config type for a non-object\"),null)},Al=function(a,b){this.s=b[\"@id\"];this.a=a;this.h=b;this.g=this.f=this.b=null},Cl=function(a,b){return a.a instanceof Pk?a.a.b.get(b):null};Al.prototype.J=function(){return this.h};var al=function(a){if(!a.b)return\"\";var b=al(a.b);b&&(b+=\".\");b+=a.f;r(a.g)&&(b+=\"[\"+a.g+\"]\");return b},nl=function(a,b,c,d){(a.b=b)?(a.f=c,a.g=r(d)?d:null):(a.f=null,a.g=null)},Bl=function(a,b){if(!b)return a.J();if(b){var c=/^(\\w+)(?:\\[(\\d+)\\])?(?:\\.(.*))?$/.exec(b);if(c)var d={Ab:c[1],index:c[2]?parseInt(c[2],10):-1,Bb:c[3]?c[3]:null};else W(\"Invalid path \"+b),d=null}else d=null;b=d.Ab;c=d.index;d=d.Bb;var e=a.a;if(!e.b.get(b))return W(\"Property \"+(b+(\" does not exist on type \"+(e.a+\".\")))),null;a=a.J()[b];if(0<=c){if(!Ba(a))return W(zj(e.a,b)),null;a=a[c]}if(d){a=Wk(a);if(!a)return W(\"Attempt to get config type for a non-object\"),null;a=Bl(a,d)}return a},fl=function(){this.a=new Yf},Dl=function(a,b,c){v(c)?B(c,function(d){this.a.add(b+\"_\"+d)},a):q(c)&&a.a.add(b+\"_\"+c)},zl=function(a,b){b&&D(b,function(c,d){hl(this,d,c);x(c)&&il(this,c)},a)},il=function(a,b){try{var c=!1,d=b[\"@type\"],e=b[\"@value\"],f=d&&rl==Tk(String(d)),k=p(e)&&rl==Yk(e);(f||k)&&D(b,function(l,m){c=c||hl(this,m,l)},a);return c}catch(l){return!1}},hl=function(a,b,c){if(!lb(b,\"@\"))return!1;b=b.replace(\"@\",\"\");switch(b){case \"exit\":return Dl(a,\"exit\",c),!0;case \"counter\":return Dl(a,\"counter\",c),!0;case \"timer\":return Dl(a,\"timer\",c),!0}return!1},El=function(a,b){var c=a[b];return v(c)?c:(W(zj(Zk(a),b)),null)};var Gl=function(a){this.a=Wk(a);this.j=new Fl;this.f=new H;this.b=new H;this.h=new H;this.g=new H;this.s=new H},Hl=new H,Il=function(a){if(!Vk(a))return null;var b=a[\"@id\"];Hl.R(b)||Hl.set(b,new Gl(a));return Hl.get(b)},Jl=function(a,b,c){a=cl(a,b);return!a||c&&!El(a.va,a.propertyName)?null:(c=Il(a.va))?{controller:c,propertyName:a.propertyName,index:a.index}:null},X=function(a,b){var c=a.get(b);p(c)||(c=new Fl,a.set(b,c));return c},Ll=function(a){B(a.f.O(),function(b){var c=this.a.J()[b];X(this.f,b).a(c)},a);B(a.b.O(),function(b){for(var c=this.a.J()[b],d=0;d<c.length;d++){var e=c[d],f=d,k=c;X(this.b,b).a(e,f,k)}},a);B(a.g.O(),function(b){var c=this.a.J()[b];X(this.g,b).a(c)},a);Kl(a)},Kl=function(a){a.j.a(a.a.J());(a=a.a.b)&&Kl(Il(a.J()))},Fl=function(){this.b=[]};Fl.prototype.add=function(a,b){var c=this.b;a={G:a,scope:b};0<=Ua(c,a)||c.push(a)};var Ml=function(a,b,c){var d=$a(a.b,function(e){return e.G==b&&e.scope==c});-1!=d&&bb(a.b,d)};Fl.prototype.a=function(a){var b=arguments;B(this.b,function(c){c.G.apply(c.scope,b)})};u(\"studio.sdk.configurable.binding.addValueChangeListener\",function(a,b,c){(a=Il(a))&&a.j.add(b,c)},void 0);u(\"studio.sdk.configurable.binding.removeValueChangeListener\",function(a,b,c){(a=Il(a))&&Ml(a.j,b,c)},void 0);var Nl=function(a,b,c,d){(a=Jl(a,b))&&X(a.controller.f,a.propertyName).add(c,d)};u(\"studio.sdk.configurable.binding.addPropertyChangeListener\",Nl,void 0);u(\"studio.sdk.configurable.binding.removePropertyChangeListener\",function(a,b,c,d){(a=Jl(a,b))&&Ml(X(a.controller.f,a.propertyName),c,d)},void 0);var Ol=function(a,b,c,d){(a=Jl(a,b,!0))&&X(a.controller.b,a.propertyName).add(c,d)};u(\"studio.sdk.configurable.binding.addArrayInsertListener\",Ol,void 0);u(\"studio.sdk.configurable.binding.removeArrayInsertListener\",function(a,b,c,d){(a=Jl(a,b,!0))&&Ml(X(a.controller.b,a.propertyName),c,d)},void 0);var Pl=function(a,b,c,d){(a=Jl(a,b,!0))&&X(a.controller.h,a.propertyName).add(c,d)};u(\"studio.sdk.configurable.binding.addArrayRemoveListener\",Pl,void 0);u(\"studio.sdk.configurable.binding.removeArrayRemoveListener\",function(a,b,c,d){(a=Jl(a,b,!0))&&Ml(X(a.controller.h,a.propertyName),c,d)},void 0);u(\"studio.sdk.configurable.binding.addValueAddedListener\",function(a,b,c,d){(a=Jl(a,b))&&X(a.controller.g,a.propertyName).add(c,d)},void 0);u(\"studio.sdk.configurable.binding.removeValueAddedListener\",function(a,b,c,d){(a=Jl(a,b))&&Ml(X(a.controller.g,a.propertyName),c,d)},void 0);u(\"studio.sdk.configurable.binding.addValueRemovedListener\",function(a,b,c,d){(a=Jl(a,b))&&X(a.controller.s,a.propertyName).add(c,d)},void 0);u(\"studio.sdk.configurable.binding.removeValueRemovedListener\",function(a,b,c,d){(a=Jl(a,b))&&Ml(X(a.controller.s,a.propertyName),c,d)},void 0);var Ql=function(a){var b=Il(a);if(b){Ll(b);for(var c in a)if(b=a[c],v(b))for(var d=0;d<b.length;d++)x(b[d])&&Ql(b[d]);else x(b)&&Ql(b)}};u(\"studio.sdk.configurable.binding.fireAllListeners\",Ql,void 0);var Rl=function(a,b,c){var d=Jl(a,b);if(d){a=d.controller;b=d.propertyName;d=d.index;var e=a.a.J(),f=e[b],k=Cl(a.a,b);null==c||Yk(c)?(null!=d?(k=f,f=k[d],k[d]=c,c=k):e[b]=c,ml(null,b,f),ml(e,b,c),d=c,X(a.f,b).a(d),Kl(a)):W(yj(a.a.a.a,k.f))}};u(\"studio.sdk.configurable.binding.update\",Rl,void 0);var Wl=function(a,b){if(Nk)a=Sk(b);else if(!a||!Vk(a))return a;if(!a)return a;var c=Wk(a);B(c.a instanceof Pk?c.a.b.O():null,function(d){var e=Cl(c,d),f=a[d],k=b[d],l=null!=f?Yk(f):e.K.L()[0];if(e.b){if(v(f))for(;0<f.length;)Sl(a,d,0);v(k)?B(k,Ia(Tl,a,d)):null!=k&&Tl(a,d,k,0)}else l instanceof ol?Rl(a,d,k):l instanceof Pk&&(null!=k?Ul(a,d,k):null!=f&&Vl(a,d),null!=f&&null!=k&&Wl(f,k))});return a};u(\"studio.sdk.configurable.binding.updateAll\",Wl,void 0);var Tl=function(a,b,c,d){if(b=Jl(a,b,!0)){a=b.controller;b=b.propertyName;var e=d,f=a.a.J();if(d=El(f,b)){c=Cl(a.a,b).h(c);if(0>e||e>d.length)e=d.length;hb(d,e,0,c);ml(f,b,d);X(a.b,b).a(c,e,d);Kl(a)}}};u(\"studio.sdk.configurable.binding.arrayInsert\",Tl,void 0);var Sl=function(a,b,c){if(b=Jl(a,b,!0)){a=b.controller;b=b.propertyName;var d=a.a.J(),e=El(d,b);if(e)if(0>c||c>=e.length)a=Zk(d),W(\"Property \"+(b+(\" on type \"+(a+(\" has length \"+(e.length+(\", but invalid index \"+(c+\" was requested.\"))))))));else{var f=e[c];bb(e,c);ml(null,b,f);ml(d,b,e);X(a.h,b).a(f,c,e);Kl(a)}}};u(\"studio.sdk.configurable.binding.arrayRemove\",Sl,void 0);var Ul=function(a,b,c){if(b=Jl(a,b)){a=b.controller;b=b.propertyName;var d=a.a.J(),e=d[b],f=Cl(a.a,b);f?(c=f.h(c),d[b]=c,ml(null,b,e),ml(d,b,c),e&&X(a.s,b).a(e),X(a.g,b).a(c),Kl(a)):W(\"The optional property \"+(b+\" must be a reference\"))}};u(\"studio.sdk.configurable.binding.addValue\",Ul,void 0);var Vl=function(a,b){if(b=Jl(a,b)){a=b.controller;b=b.propertyName;var c=a.a.J();if(c[b]){var d=c[b];delete c[b];ml(null,b,d);ml(c,b,void 0);X(a.s,b).a(d);Kl(a)}}};u(\"studio.sdk.configurable.binding.removeValue\",Vl,void 0);var Xl=function(a,b,c,d){I.call(this);this.a=a;this.g=b;this.f=this.b=null;this.f=c?new lk(y(this.h,this)):new Ek(y(this.h,this),d)};z(Xl,I);u(\"studio.sdk.configurable.PreviewHandler\",Xl,void 0);Xl.CallbackMethods={Zc:\"showNode\",Xc:\"hideNode\",Wc:\"changeValue\",Yc:\"showMessage\"};var Yl=function(a,b){return a?a+\".\"+b:b};Xl.prototype.h=function(a,b){switch(a){case \"updateValue\":if(3>b.length)break;a=b[0];var c=JSON.parse(b[1]);this.Ca(a,c,b[2]);break;case \"addArrayItem\":if(4>b.length)break;a=b[0];var d=b[1],e=JSON.parse(b[2]);c=b[3];a=Yl(a,d);c=dl(c,e,this.a,a);Tl(this.a,a,c,-1);break;case \"removeArrayItem\":if(3>b.length)break;a=b[0];d=b[1];var f=parseInt(b[2],10);Sl(this.a,Yl(a,d),f);break;case \"updateArrayValue\":if(5>b.length)break;a=b[0];d=b[1];e=JSON.parse(b[2]);c=b[3];f=parseInt(b[4],10);b=e;e=f;a=Yl(a,d);Sl(this.a,a,e);c=dl(c,b,this.a,a);Tl(this.a,a,c,e);break;case \"addValue\":if(4>b.length)break;e=b[0];d=JSON.parse(b[1]);a=b[2];c=b[3];a=Yl(a,e);c=dl(c,d,this.a,a);Ul(this.a,a,c);break;case \"changeInputVariable\":if(2>b.length)break;e=b[0];Zl(this,e,b[1]);break;case \"removeValue\":2>b.length||(e=b[0],a=b[1],Vl(this.a,Yl(a,e)))}};Xl.prototype.Ca=function(a,b){D(b,function(c,d){Rl(this.a,Yl(a,d),c)},this)};Xl.prototype.updateValue=Xl.prototype.Ca;var Zl=function(a,b,c){switch(b){case \"assets\":a.g&&a.g(c);break;case \"setGdnAction\":b=c,q(b)&&(b=JSON.parse(b)),x(b)&&a.b&&D(a.b(b),function(d,e){\"@\"!=e[0]&&(e=Yl(\"\",e),d=dl(d[\"@type\"],d,this.a,e),Ul(this.a,e,d))},a)}},am=function(a,b){$l.f.g(a,b)};u(\"studio.sdk.configurable.RUNTIME_MODE\",{FILLER:\"FILLER\",PLAY:\"PLAY\",TRAFFICK:\"TRAFFICK\",DEVELOPMENT:\"DEVELOPMENT\"},void 0);u(\"studio.sdk.configurable.FILLER_CONTEXT\",{CREATIVE:\"CREATIVE\",MANAGEMENT:\"MANAGEMENT\",NONE:\"NONE\"},void 0);var bm=new K,cm=new H,$l=null,dm=null,em=!1,fm=null,gm=new G,Yj=null,Zj=null,hm=!1;u(\"studio.sdk.configurable.reset\",function(){Ce(Jk);Ce(Kk);Mk=Lk=0;Nk=!1;Ce(Hl);Hk.ja().reset();kk.ja().reset();dm=null;Ce(cm);$l=null;em=!1;fm=null;hm=!1},void 0);u(\"studio.sdk.configurable.getConfiguration\",function(a){Nk=!0;im(null,a)},void 0);u(\"studio.sdk.configurable.register\",function(a,b){im(a,b)},void 0);var im=function(a,b){A(64)||h.Enabler?jm(Ia(km,a,b)):lm(Ia(mm,a,b))};u(\"studio.sdk.configurable.addRegisterListener\",function(a){bm.Fa(\"register\",a)},void 0);var jm=function(a){if(h.Enabler){var b=h.Enabler;b.isInitialized()?a():bf(b,\"init\",a)}else qe(gm,Ia(jm,a))};u(\"studio.sdk.configurable.setDefaultVideoPreferences\",function(a,b){Yj=a||null;Zj=b||null},void 0);var lm=function(a){var b=h.a;Hk.ja().oa(function(c,d,e){hm||(em=hm=!0,fm=e,a(c),b&&w(b)&&b(d,e))})},km=function(a,b){if(!hm){hm=!0;var c=new Pj([new ak],!1);kk.ja().oa(function(d){d=Qj(c,d);mm(a,b,d)})}},mm=function(a,b,c){c&&(c=Wl(a,c),a||(a=c));a&&A(16)?$l=new Xl(a,nm,!!h.Enabler.getParameter(\"useEnablerMessages\"),om()):A(1)||(dm=a);b&&b(a);bm.dispatchEvent(new Sj(\"register\"))};u(\"studio.sdk.configurable.exit\",function(a,b,c){(a=pm(a,b,\"exit\"))&&kk.ja().b?(c=String,b=kk.ja(),b.a?(a=a.split(\"_\"),a=Gb(b.a,a[0],parseInt(a[1],10),a[2])):a=null,c=c(a),h.Enabler.cb(\"Layout Exit\",c)):a&&h.Enabler?null!=c?h.Enabler.cb(a,c):h.Enabler.exit(a):em&&(a&&0<a.length?fm.exit(a):fm.exit())},void 0);var pm=function(a,b,c){if((!b||0==b.length)&&(em||kk.ja().b))return\"\";if(a=cl(a,\"\")){var d=Wk(a.va),e=a.propertyName,f=a.index;a=d;e&&(d=d.J()[e],r(f)&&(d=d[f]),(d=Wk(d))&&(a=d));d=!1;a.f&&(d=Cl(a.b,a.f).j.a.contains(c+\"_\"+b));b=(d=d||a.a.f.a.contains(c+\"_\"+b))||Nk?Hc(al(a),\"::\",b):\"\"}else b=\"\";if(!A(64)&&h.Enabler&&h.Enabler.getParameter(\"AdData\")||em||kk.ja().b)b?(b=b.replace(\"[\",\"_\"),b=b.replace(\"]::\",\"_\"),b=b.replace(\".\",\"_\"),lb(b,\"::\")&&(b=b.substring(2)),b=b.replace(\"::\",\"_\")):b=null;return b};u(\"studio.sdk.configurable.exitQueryString\",function(a,b,c){(a=pm(a,b,\"exit\"))&&h.Enabler&&h.Enabler.vb(a,c)},void 0);u(\"studio.sdk.configurable.counter\",function(a,b,c){(a=pm(a,b,\"counter\"))&&h.Enabler&&h.Enabler.Ma(a,c)},void 0);u(\"studio.sdk.configurable.startTimer\",function(a,b){(a=pm(a,b,\"timer\"))&&h.Enabler&&h.Enabler.startTimer(a)},void 0);u(\"studio.sdk.configurable.stopTimer\",function(a,b){(a=pm(a,b,\"timer\"))&&h.Enabler&&h.Enabler.stopTimer(a)},void 0);var nm=function(a){Fi(h.Enabler,a)};u(\"studio.sdk.configurable.showFiller\",function(a){$l&&am(\"showNode\",[a])},void 0);u(\"studio.sdk.configurable.hideFiller\",function(a){$l&&am(\"hideNode\",[a])},void 0);u(\"studio.sdk.configurable.changeFillerValue\",function(a,b){$l?(am(\"changeValue\",[a,b]),$l.Ca(a,b,!1)):dm&&D(b,function(c,d){Rl(dm,Yl(a,d),c)})},void 0);u(\"studio.sdk.configurable.setTranslationMethod\",function(a){$l&&($l.b=a)},void 0);u(\"studio.sdk.configurable.showMessage\",function(a){$l&&am(\"showMessage\",[a])},void 0);var om=function(){if(!h.Enabler)return\"TRAFFICK\";switch(h.Enabler.getParameter(\"layoutsRuntime\")){case \"AUTHORING\":return\"FILLER\";case \"TESTING\":return\"PLAY\";default:return h.Enabler.isInitialized()?A(1)?\"TRAFFICK\":\"DEVELOPMENT\":\"TRAFFICK\"}};u(\"studio.sdk.configurable.getRuntimeMode\",om,void 0);u(\"studio.sdk.configurable.getFillerContext\",function(){if(!h.Enabler)return\"NONE\";switch(h.Enabler.getParameter(\"fillerContext\")){case \"CREATIVE_FILLER\":return\"CREATIVE\";case \"MANAGEMENT_FILLER_PREVIEW\":return\"MANAGEMENT\";default:return\"NONE\"}},void 0);var qm=function(){Ff(\"enabler\",function(){gm.a||gm.G()})};tf.configurable=3;if(!A(64)||!h.Enabler){var rm=ki().f;if(rm){var sm=rm.get(\"e\",null);li(sm)}if(A(64))qm();else if(!A(128)){var tm=yf();/html5/.test(tm)&&ze(yd(tm+\"addata.js\"))}};");
